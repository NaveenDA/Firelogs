(()=>{"use strict";class e{static storage=chrome.storage.local;executeScript=e=>{chrome.tabs.executeScript({code:e})};static log=e=>{"object"==typeof e&&(e=JSON.stringify(e)),chrome.tabs.executeScript({code:"console.log(`"+e+"`)"})};static count=e=>{"object"==typeof e&&(e=JSON.stringify(e)),chrome.tabs.executeScript({code:"console.count(`"+e+"`)"})}}const t=e;class n{static requestReference={};static hash(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}static uuid(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}static reqUUID(e){var t;if(n.requestReference[e]){for(var r=0;n.requestReference[e+r];)r++;t=n.hash(e+r),n.requestReference[e+r]=t}else t=n.hash(e),n.requestReference[e]=t;return t}}const r=n;t.storage.get("activeTab",(({activeTab:e})=>{if(e){const e=setInterval((()=>{document.head&&(clearInterval(e),(()=>{const e=document.createElement("script");e.type="text/javascript",e.id="__firelogs_xhr_override_script",e.innerHTML=(e=>`\n    (function () {\n      console.log("injectResponseScript")\n      var __firelogsResponse = {};\n      var __firelogs_ruid = ${e};\n      var XHR = XMLHttpRequest.prototype;\n      var send = XHR.send;\n      var open = XHR.open;\n      XHR.open = function (method, url) {\n        this.url = url;\n        this.ruid = __firelogs_ruid.reqUUID(url);\n        this.method = method;\n        return open.apply(this, arguments);\n      };\n      XHR.send = function () {\n        this.addEventListener("load", function () {\n          debugger;\n          var url = new URL(this.url, location);\n          var res = this.response;\n          try{\n            res =JSON.parse(res);\n            res = JSON.stringify(res);\n          }catch(err){\n            console.log(res);\n            console.log(url);\n            console.log(err);\n          }\n          __firelogsResponse[this.ruid] = {\n              url:url.pathname,\n              method: this.method,\n              ruid:this.ruid,\n              response: res\n          };\n          var el = document.querySelector("#data-container-firelogs");\n          if (el) {\n            el.innerHTML = JSON.stringify(__firelogsResponse);\n          } \n        });\n        return send.apply(this, arguments);\n      };\n    })();\n`)(r),document.head.appendChild(e)})())}),100)}}))})();